1  name: Code Quality
2  
3  on:
4    push:
5      branches: [ main ]
6    pull_request:
7      branches: [ main ]
8    # schedule:
9    #   - cron: '0 0 1 * *'  # 1er du mois Ã  minuit
10 
11 jobs:
12   sonarqube:
13     runs-on: ubuntu-latest
14     
15     steps:
16     - uses: actions/checkout@v4
17       with:
18         fetch-depth: 0
19     
20     - name: Setup Bun
21       uses: oven-sh/setup-bun@v1
22       with:
23         bun-version: latest
24     
25     - name: Install dependencies
26       run: bun install
27     
28     - name: SonarQube Scan
29       uses: SonarSource/sonarqube-scan-action@master
30       env:
31         SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
32         SONAR_HOST_URL: ${{ secrets.SONAR_HOST_URL }}